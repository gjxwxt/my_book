#### 一、索引存储为何采用b+tree

1. 二叉树：如果存储的索引是顺序递增，那么相当于链表，不利于查询
2. 红黑树：如果数据量太大，红黑树层级会非常深，I/O操作会很多
3. b-tree：相当于横向扩充节点存储的索引，中间存储的是子节点的地址，data中可能是磁盘中该行数据的地址或者一些该行部分列的数据![image-20221125161837805](C:\Users\gaoji\AppData\Roaming\Typora\typora-user-images\image-20221125161837805.png)

4. b+tree：对b树的优化，每个节点16kb左右，三层就能存储两千多万的索引，计算时将一个节点的数据放到ram运存中进行折半查询，这相比I/O消耗的时间可以忽略不计。mysql启动时的冗余索引（非叶子节点）就已经全部加载到ram中了，所以查询时只需要进行一次I/O就能查到数据了（直接取值）

![image-20221125162030964](C:\Users\gaoji\AppData\Roaming\Typora\typora-user-images\image-20221125162030964.png)

+ 非叶子节点不存储data,只存储索引（冗余），可以放更多的索引
+ 叶子节点包含所有索引字段
+ 叶子节点用指针连接，提高区间访问的性能

#### 二、MyISAM存储引擎索引实现

存储引擎是存储表数据的，其中表结构放在.frm文件中，索引放在.MYI文件中，数据放在.MYD文件中。如果查询条件是索引就去索引文件中查找到磁盘地址，再去MYD文件中拿到整行数据。myisam引擎叶子节点中的data是磁盘地址，属于非聚集索引

![image-20221125165020360](C:\Users\gaoji\AppData\Roaming\Typora\typora-user-images\image-20221125165020360.png)

#### 三、InnoDB索引实现（聚集）

